<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <script>
        /** 主要是通过 原型链来判断 注意:数组也会被检测为对象 因为数组是高阶对象
         * @Description:
         * 1.首先获取类型的原型
         * 2.然后获得对象的原型
         * 3.然后一直选好判断对象的原型是否等于的类型的原型。直到对象原型为null，因为原型链最终为null
         * @author kai
         * @date 2021/3/1 17:47
         */
        const obj = {}
        const arrays = []

        function myInstanceof(left, right) {
            let prototype = right.prototype
            left = left.__proto__
            while (true) {
                if (left === null || left === undefined) {
                    return false
                }
                if (prototype === left) {
                    return true
                }
                left = left.__proto__
            }
        }
        const aa = ["pool-query", "disk-query", "disk-get_unused", "pool-dataset_query", {}]
        aa.forEach(item => {
                if (Object.prototype.toString.call(item) === '[object Object]') {
                    console.log('对象');
                } else {
                    console.log('不是对象');
                }
            })
            //一下三种方式将数组都会判断为object
        console.log(arrays instanceof Object)
        console.log(typeof arrays)
        console.log(myInstanceof(arrays, Object))
        //判断是否是数组
        console.log(Object.prototype.toString.call(arrays))
        console.log(Array.isArray(arrays))
    </script>
</body>

</html>
