<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // function ajax (url,theWay) {
    //     return new Promise((resolve,reject)=>{
    //         let xhr=new XMLHttpRequest()
    //         xhr.open(theWay,url,true)//请求方式 请求地址  是否异步
    //         xhr.onreadystatechange=function () {
    //             if (xhr.readyState===4){
    //                 if (xhr.status===200){
    //                     resolve(xhr.responseText)
    //                 }else if (xhr.status===404) {
    //                     reject(new Error('404 NOT FOUND'))
    //                 }
    //             }
    //         }
    //         xhr.send()
    //     })
    // }
    // ajax('/api/data/test.json','GET').then(res=>{
    //     console.log(res)
    // }).catch(res=>{
    //     console.log(res)
    // })
    function ajax (url,type,data=null) {
        return new Promise((resolve,reject)=>{
            const xhr=new XMLHttpRequest()
            xhr.open(type||'GET',url,true)
            xhr.onreadystatechange=function () {
                if (xhr.readyState===4){
                    if (xhr.status===200){
                        resolve(xhr.responseText)
                    }
                }
            }
            xhr.send(data)
        })
    }
    ajax('app.json').then(res=>{
        console.log(res);
    })
</script>
</body>
</html>
